<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2071px" height="631px" viewBox="-0.5 -0.5 2071 631" content="&lt;mxfile&gt;&lt;diagram id=&quot;Vw9HYGYxIioUS2rkBB0P&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;">
    <defs/>
    <g>
        <rect x="435" y="130" width="345" height="500" rx="51.75" ry="51.75" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 343px; height: 1px; padding-top: 137px; margin-left: 436px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                controller.go
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    controller.go
                </text>
            </switch>
        </g>
        <rect x="480" y="177.5" width="255" height="412.5" rx="38.25" ry="38.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 253px; height: 1px; padding-top: 185px; margin-left: 481px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                RunOnce()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    RunOnce()
                </text>
            </switch>
        </g>
        <rect x="1233" y="125" width="837" height="495" rx="74.25" ry="74.25" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 835px; height: 1px; padding-top: 132px; margin-left: 1234px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                policy.go
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1652" y="144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    policy.go
                </text>
            </switch>
        </g>
        <rect x="1260" y="157.5" width="370" height="412.5" rx="55.5" ry="55.5" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 368px; height: 1px; padding-top: 165px; margin-left: 1261px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                Apply()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1445" y="177" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Apply()
                </text>
            </switch>
        </g>
        <rect x="850" y="130" width="345" height="495" rx="51.75" ry="51.75" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 343px; height: 1px; padding-top: 137px; margin-left: 851px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                plan.go
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1023" y="149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    plan.go
                </text>
            </switch>
        </g>
        <rect x="890" y="177.5" width="255" height="412.5" rx="38.25" ry="38.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 253px; height: 1px; padding-top: 185px; margin-left: 891px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                Calculate()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1018" y="197" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Calculate()
                </text>
            </switch>
        </g>
        <path d="M 607.5 473.75 L 607.5 493.83 L 607.5 480 L 607.5 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 607.5 498.88 L 604 491.88 L 607.5 493.63 L 611 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 697.5 443.83 L 793.75 443.83 L 882.87 443.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 888.12 443.16 L 881.14 446.71 L 882.87 443.2 L 881.09 439.71 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="517.5" y="413.75" width="180" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 444px; margin-left: 519px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <font color="#ff3333">
                                    plan
                                </font>
                                .Calculate()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="447" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    plan.Calculate()
                </text>
            </switch>
        </g>
        <rect x="487.5" y="500" width="240" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 530px; margin-left: 489px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                Registry.applyChange(ctx,
                                <b>
                                    <font color="#ff3333">
                                        plan.Change
                                    </font>
                                </b>
                                )
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Registry.applyChange(ctx, plan.Change)
                </text>
            </switch>
        </g>
        <rect x="910" y="460" width="200" height="110" rx="16.5" ry="16.5" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 515px; margin-left: 911px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                plan := &amp;Plan{
                                <br/>
                                current:
                                <br/>
                                desired:
                                <br/>
                                <font color="#ff6666">
                                    Changes: changes,
                                    <br/>
                                </font>
                                ManagedRecords
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1010" y="519" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    plan := &amp;Plan{...
                </text>
            </switch>
        </g>
        <path d="M 1010 270 L 1010 323.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1010 328.88 L 1006.5 321.88 L 1010 323.63 L 1013.5 321.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1070 240 L 1253.63 240" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1258.88 240 L 1251.88 243.5 L 1253.63 240 L 1251.88 236.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="950" y="210" width="120" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 240px; margin-left: 951px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                pol.Apply()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1010" y="244" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pol.Apply()
                </text>
            </switch>
        </g>
        <rect x="1290" y="413.75" width="300" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 444px; margin-left: 1291px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                CreateOnlyPolicy:
                                <b>
                                    create
                                </b>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="447" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    CreateOnlyPolicy: create
                </text>
            </switch>
        </g>
        <rect x="1290" y="330" width="300" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 360px; margin-left: 1291px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                UpsertOnlyPolicy:
                                <b>
                                    create, updateOld, UpdateNew
                                </b>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    UpsertOnlyPolicy: create, updateOld, UpdateNew
                </text>
            </switch>
        </g>
        <rect x="1290" y="250" width="300" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 280px; margin-left: 1291px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                SyncPolicy:
                                <b>
                                    all actions
                                </b>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    SyncPolicy: all actions
                </text>
            </switch>
        </g>
        <path d="M 1010 390 L 1010 453.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1010 458.88 L 1006.5 451.88 L 1010 453.63 L 1013.5 451.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="920" y="330" width="180" height="60" rx="9" ry="9" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 360px; margin-left: 921px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <span style="color: rgb(255 , 102 , 102)">
                                    changes = pol.Apply(changes)
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1010" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    changes = pol.Apply(changes)
                </text>
            </switch>
        </g>
        <path d="M 1671.68 280.54 L 1670 280.5 L 1596.37 280.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1591.12 280.01 L 1598.14 276.55 L 1596.37 280.04 L 1598.1 283.55 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1670 360 L 1596.37 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1591.12 360 L 1598.12 356.5 L 1596.37 360 L 1598.12 363.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1669.16 443.81 L 1596.37 443.75" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1591.12 443.75 L 1598.12 440.26 L 1596.37 443.75 L 1598.12 447.26 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1670" y="215" width="120" height="290" rx="18" ry="18" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 1671px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                map Policies
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1730" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    map Policies
                </text>
            </switch>
        </g>
        <path d="M 1860 279.96 L 1795.53 279.96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1790.28 279.96 L 1797.28 276.46 L 1795.53 279.96 L 1797.28 283.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1860" y="250" width="170" height="60" rx="9" ry="9" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 280px; margin-left: 1861px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                sync
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1945" y="284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    sync
                </text>
            </switch>
        </g>
        <path d="M 1860 360 L 1796.37 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1791.12 360 L 1798.12 356.5 L 1796.37 360 L 1798.12 363.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1860" y="330" width="170" height="60" rx="9" ry="9" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 360px; margin-left: 1861px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                upsert-only
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1945" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    upsert-only
                </text>
            </switch>
        </g>
        <path d="M 1860 443.83 L 1825 443.83 L 1798.05 443.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1792.8 443.25 L 1799.86 439.88 L 1798.05 443.35 L 1799.73 446.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1860" y="413.75" width="170" height="60" rx="9" ry="9" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 444px; margin-left: 1861px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                create-only
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1945" y="447" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    create-only
                </text>
            </switch>
        </g>
        <rect x="1850" y="30" width="190" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 182px; height: 1px; padding-top: 20px; margin-left: 1854px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 100px; overflow: hidden; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <h1>
                                    policy
                                </h1>
                                <p>
                                    Specified by the argument
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1945" y="32" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    policy...
                </text>
            </switch>
        </g>
        <rect x="1345" y="10" width="190" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 182px; height: 1px; padding-top: 0px; margin-left: 1349px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 100px; overflow: hidden; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <h1>
                                    Policy.Apply
                                </h1>
                                <p>
                                    Set the corresponding change actions
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="12" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Policy.Apply...
                </text>
            </switch>
        </g>
        <rect x="950" y="10" width="190" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 182px; height: 1px; padding-top: 0px; margin-left: 954px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 100px; overflow: hidden; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <h1>
                                    Plan
                                </h1>
                                <p>
                                    Set Changes in Plan based on the policy
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1045" y="12" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Plan...
                </text>
            </switch>
        </g>
        <rect x="520" y="20" width="190" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 182px; height: 1px; padding-top: 10px; margin-left: 524px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 100px; overflow: hidden; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <h1>
                                    Controller
                                </h1>
                                <p>
                                    controller
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="615" y="22" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Controller...
                </text>
            </switch>
        </g>
        <rect x="0" y="130" width="345" height="500" rx="51.75" ry="51.75" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 343px; height: 1px; padding-top: 137px; margin-left: 1px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                main.go
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="173" y="149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    main.go
                </text>
            </switch>
        </g>
        <rect x="60" y="10" width="190" height="90" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 182px; height: 1px; padding-top: 0px; margin-left: 64px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; max-height: 100px; overflow: hidden; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <h1>
                                    Main
                                </h1>
                                <p>
                                    main
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="155" y="12" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Main...
                </text>
            </switch>
        </g>
        <rect x="40" y="187.5" width="255" height="412.5" rx="38.25" ry="38.25" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 253px; height: 1px; padding-top: 195px; margin-left: 41px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                main()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="168" y="207" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    main()
                </text>
            </switch>
        </g>
        <rect x="77.5" y="310" width="180" height="190" rx="27" ry="27" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 405px; margin-left: 79px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                ctrl := controller.Controller{
                                <br/>
                                Source: endpointsSource,
                                <br/>
                                Registry: r,
                                <br/>
                                <font color="#ff3333">
                                    Policy: policy,
                                    <br/>
                                </font>
                                Interval: cfg.Interval,
                                <br/>
                                DomainFilter: domainFilter,
                                <br/>
                                ManagedRecordTypes: cfg.ManagedDNSRecordTypes,
                                <br/>
                                MinEventSyncInterval: cfg.MinEventSyncInterval
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="168" y="409" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    ctrl := controller.Controller{...
                </text>
            </switch>
        </g>
        <path d="M 607.5 390 L 607.5 410 L 607.5 393.83 L 607.5 407.38" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 607.5 412.63 L 604 405.63 L 607.5 407.38 L 611 405.63 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="517.5" y="215" width="180" height="175" rx="26.25" ry="26.25" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 303px; margin-left: 519px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <font color="#ff3333">
                                    plan
                                </font>
                                := &amp;plan.Plan{
                                <br/>
                                <font color="#ff3333">
                                    Policies: []plan.Policy{c.Policy},
                                    <br/>
                                </font>
                                Current: records,
                                <br/>
                                Desired: endpoints,
                                <br/>
                                DomainFilter: c.DomainFilter,
                                <br/>
                                PropertyComparator: c.Registry.PropertyValuesEqual,
                                <br/>
                                ManagedRecords: []string{endpoint.RecordTypeA, endpoint.RecordTypeCNAME},
                                <br/>
                                }
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="608" y="306" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    plan := &amp;plan.Plan{...
                </text>
            </switch>
        </g>
        <path d="M 167.5 280 L 167.5 300 L 167.5 290 L 167.5 303.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 167.5 308.88 L 164 301.88 L 167.5 303.63 L 171 301.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 257.5 255 L 390 255 L 390 110 L 1730 110 L 1730 208.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1730 213.88 L 1726.5 206.88 L 1730 208.63 L 1733.5 206.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="77.5" y="230" width="180" height="50" rx="7.5" ry="7.5" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 255px; margin-left: 79px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                <font color="#ff3333">
                                    policy, exits := plan.Policies[cfg.policy]
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="168" y="259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    policy, exits := plan.Policies...
                </text>
            </switch>
        </g>
        <path d="M 257.5 545 L 368.75 545 L 368.75 280.58 L 473.63 280.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 478.88 280.62 L 471.88 284.12 L 473.63 280.62 L 471.88 277.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="77.5" y="520" width="180" height="50" rx="7.5" ry="7.5" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 545px; margin-left: 79px;">
                        <div style="box-sizing: border-box; font-size: 0; text-align: center; ">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">
                                controller.Run() or RunOnce()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="168" y="549" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    controller.Run() or RunOnce()
                </text>
            </switch>
        </g>
        <path d="M 167.5 500 L 167.5 513.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 167.5 518.88 L 164 511.88 L 167.5 513.63 L 171 511.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>
